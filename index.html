<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ModelForge Enterprise | Data Modeling Platform</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #1e40af;
            --dark-blue: #1e3a8a;
            --light-blue: #3b82f6;
            --accent-blue: #60a5fa;
            --navy: #0f172a;
            --slate: #334155;
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-600: #475569;
            --gray-800: #1e293b;
            --white: #ffffff;
            --gradient-primary: linear-gradient(135deg, #1e40af 0%, #1e3a8a 50%, #0f172a 100%);
            --gradient-accent: linear-gradient(45deg, #3b82f6, #60a5fa);
            --gradient-light: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(30, 64, 175, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--gradient-primary);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--gray-800);
            line-height: 1.6;
        }

        /* Professional Background */
        .background-system {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: var(--gradient-primary);
        }

        .background-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(30, 64, 175, 0.1) 0%, transparent 50%),
                linear-gradient(45deg, transparent 48%, rgba(255, 255, 255, 0.05) 49%, rgba(255, 255, 255, 0.05) 51%, transparent 52%);
            background-size: 400px 400px, 400px 400px, 60px 60px;
        }

        .grid-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* Header */
        .header {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 16px 32px;
            box-shadow: var(--glass-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            width: 48px;
            height: 48px;
            background: var(--gradient-accent);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 20px;
            color: white;
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.3);
        }

        .logo-text h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 2px;
        }

        .logo-text p {
            font-size: 14px;
            color: var(--gray-600);
            font-weight: 500;
        }

        .header-nav {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .nav-item {
            background: transparent;
            border: 1px solid var(--gray-200);
            color: var(--gray-600);
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            font-size: 14px;
        }

        .nav-item:hover {
            background: var(--gray-50);
            border-color: var(--gray-300);
            color: var(--gray-800);
        }

        .nav-item.primary {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
        }

        .nav-item.primary:hover {
            background: var(--dark-blue);
            border-color: var(--dark-blue);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-left: 16px;
            padding-left: 16px;
            border-left: 1px solid var(--gray-200);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            background: var(--gradient-accent);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
        }

        .user-role {
            font-size: 12px;
            color: var(--gray-600);
        }

        /* Main Layout */
        .main-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 24px 32px;
            display: grid;
            grid-template-columns: 320px 1fr 280px;
            gap: 24px;
            min-height: calc(100vh - 120px);
        }

        /* Sidebar */
        .sidebar {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--glass-shadow);
            height: fit-content;
        }

        .sidebar-section {
            margin-bottom: 32px;
        }

        .sidebar-section:last-child {
            margin-bottom: 0;
        }

        .section-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title i {
            color: var(--primary-blue);
        }

        /* Model Items */
        .model-grid {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .model-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .model-card:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.1);
            transform: translateY(-1px);
        }

        .model-card.active {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.15);
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .model-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--navy);
            line-height: 1.3;
        }

        .model-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            flex-shrink: 0;
        }

        .model-meta {
            font-size: 12px;
            color: var(--gray-600);
            margin-bottom: 4px;
        }

        .model-stats {
            display: flex;
            gap: 12px;
            font-size: 11px;
            color: var(--gray-500);
        }

        .create-model-btn {
            width: 100%;
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 12px;
            font-size: 14px;
        }

        .create-model-btn:hover {
            background: var(--dark-blue);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.25);
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .tool-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tool-card:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 2px 8px rgba(30, 64, 175, 0.1);
        }

        .tool-card.active {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.25);
        }

        .tool-icon {
            font-size: 16px;
            margin-bottom: 4px;
        }

        .tool-name {
            font-size: 12px;
            font-weight: 500;
        }

        /* Info Panels */
        .info-panel {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 16px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .info-row:last-child {
            margin-bottom: 0;
        }

        .info-label {
            font-size: 12px;
            color: var(--gray-600);
        }

        .info-value {
            font-size: 12px;
            font-weight: 600;
            color: var(--primary-blue);
        }

        .info-value.success {
            color: #10b981;
        }

        .info-value.warning {
            color: #f59e0b;
        }

        /* Main Canvas */
        .canvas-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            box-shadow: var(--glass-shadow);
            display: flex;
            flex-direction: column;
        }

        .canvas-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .canvas-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--navy);
        }

        .canvas-actions {
            display: flex;
            gap: 8px;
        }

        .canvas-btn {
            background: var(--white);
            border: 1px solid var(--gray-200);
            color: var(--gray-600);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .canvas-btn:hover {
            border-color: var(--gray-300);
            color: var(--gray-800);
        }

        .canvas-workspace {
            flex: 1;
            padding: 24px;
            min-height: 500px;
            position: relative;
        }

        .modeling-area {
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(45deg, transparent 48%, rgba(30, 64, 175, 0.03) 49%, rgba(30, 64, 175, 0.03) 51%, transparent 52%),
                var(--gray-50);
            background-size: 20px 20px;
            border: 2px dashed var(--gray-300);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }

        /* Entity Components */
        .entity {
            position: absolute;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            min-width: 240px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            cursor: move;
            transition: all 0.2s ease;
        }

        .entity:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        .entity.selected {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .entity-header {
            background: var(--gradient-accent);
            color: white;
            padding: 12px 16px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 14px;
        }

        .entity-body {
            padding: 16px;
        }

        .entity-field {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
            border-bottom: 1px solid var(--gray-100);
            font-size: 13px;
        }

        .entity-field:last-child {
            border-bottom: none;
        }

        .field-name {
            color: var(--navy);
            font-weight: 500;
        }

        .field-info {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .field-key {
            background: var(--primary-blue);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
        }

        .field-type {
            color: var(--gray-600);
            font-size: 11px;
            background: var(--gray-100);
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* Connections */
        .connection {
            position: absolute;
            height: 2px;
            background: var(--gradient-accent);
            z-index: 1;
            border-radius: 1px;
        }

        .connection-label {
            position: absolute;
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--white);
            border: 1px solid var(--gray-200);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            color: var(--gray-600);
            white-space: nowrap;
        }

        /* Analytics Panel */
        .analytics-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--glass-shadow);
            height: fit-content;
        }

        .analytics-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analytics-title i {
            color: var(--primary-blue);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .metric-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .metric-card:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 2px 8px rgba(30, 64, 175, 0.1);
        }

        .metric-value {
            font-size: 24px;
            font-weight: 800;
            color: var(--navy);
            margin-bottom: 4px;
        }

        .metric-label {
            font-size: 12px;
            color: var(--gray-600);
            margin-bottom: 4px;
        }

        .metric-trend {
            font-size: 11px;
            font-weight: 600;
        }

        .metric-trend.up {
            color: #10b981;
        }

        .metric-trend.down {
            color: #f59e0b;
        }

        /* AI Assistant */
        .ai-assistant {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 360px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            box-shadow: var(--glass-shadow);
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 200;
        }

        .ai-assistant.active {
            transform: translateY(0);
        }

        .ai-toggle {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            background: var(--primary-blue);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(30, 64, 175, 0.3);
            transition: all 0.3s ease;
            z-index: 201;
        }

        .ai-toggle:hover {
            background: var(--dark-blue);
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(30, 64, 175, 0.4);
        }

        .ai-header {
            padding: 20px 24px 16px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--navy);
        }

        .ai-content {
            padding: 20px 24px;
        }

        .ai-input {
            width: 100%;
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 12px;
            color: var(--gray-800);
            font-family: inherit;
            font-size: 14px;
            resize: none;
            margin-bottom: 16px;
        }

        .ai-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .ai-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
        }

        .suggestion-chip {
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            color: var(--gray-700);
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-chip:hover {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
        }

        .ai-generate-btn {
            width: 100%;
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .ai-generate-btn:hover {
            background: var(--dark-blue);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(30, 64, 175, 0.25);
        }

        /* Status Bar */
        .status-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-accent);
            z-index: 300;
        }

        .collaboration-indicator {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--white);
            border: 1px solid var(--gray-200);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-700);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .collaboration-indicator i {
            color: var(--primary-blue);
            margin-right: 6px;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 80px;
            right: 24px;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 16px 20px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            z-index: 300;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .notification.success {
            border-left: 4px solid #10b981;
        }

        .notification.warning {
            border-left: 4px solid #f59e0b;
        }

        .notification.info {
            border-left: 4px solid var(--primary-blue);
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 280px 1fr;
                gap: 20px;
            }
            
            .analytics-panel {
                grid-column: 1 / -1;
                margin-top: 20px;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr;
                padding: 16px 20px;
                gap: 16px;
            }
            
            .header-content {
                padding: 0 20px;
            }
            
            .ai-assistant {
                width: calc(100vw - 48px);
                right: 24px;
            }
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: slideInUp 0.4s ease-out forwards;
        }

        /* Loading States */
        .loading {
            position: relative;
            overflow: hidden;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { left: -100%; }
            100% { left: 100%; }
        }
    </style>
</head>
<body>
    <!-- Background System -->
    <div class="background-system">
        <div class="background-pattern"></div>
        <div class="grid-overlay"></div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar"></div>

    <!-- Collaboration Indicator -->
    <div class="collaboration-indicator">
        <i class="fas fa-users"></i>
        <span id="collaborationCount">4 analysts collaborating</span>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">MF</div>
                <div class="logo-text">
                    <h1>ModelForge Enterprise</h1>
                    <p>Data Modeling & Risk Analytics Platform</p>
                </div>
            </div>
            <nav class="header-nav">
                <button class="nav-item">
                    <i class="fas fa-database"></i> Data Curation
                </button>
                <button class="nav-item">
                    <i class="fas fa-cogs"></i> Automation
                </button>
                <button class="nav-item">
                    <i class="fab fa-github"></i> Legend Contrib
                </button>
                <button class="nav-item">
                    <i class="fas fa-users"></i> Consumers
                </button>
                <button class="nav-item">
                    <i class="fas fa-cloud"></i> Cloud Tech
                </button>
                <button class="nav-item primary">
                    <i class="fab fa-aws"></i> Deploy
                </button>
            </nav>
            <div class="user-profile">
                <div class="user-avatar">JS</div>
                <div class="user-info">
                    <div class="user-name">John Smith</div>
                    <div class="user-role">Senior Analyst</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Data Models Section -->
            <div class="sidebar-section">
                <h3 class="section-title">
                    <i class="fas fa-project-diagram"></i>
                    Data Models
                </h3>
                <div class="model-grid">
                    <div class="model-card active">
                        <div class="model-header">
                            <div class="model-name">Credit Risk Assessment Model</div>
                            <div class="model-status"></div>
                        </div>
                        <div class="model-meta">Quantitative Risk • Production</div>
                        <div class="model-stats">
                            <span>18 entities</span>
                            <span>•</span>
                            <span>Last updated 2h ago</span>
                        </div>
                    </div>
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Fixed Income Trading Platform</div>
                            <div class="model-status" style="background: #f59e0b;"></div>
                        </div>
                        <div class="model-meta">Trading Systems • Staging</div>
                        <div class="model-stats">
                            <span>24 entities</span>
                            <span>•</span>
                            <span>Updated 4h ago</span>
                        </div>
                    </div>
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Regulatory Compliance Framework</div>
                            <div class="model-status" style="background: #ef4444;"></div>
                        </div>
                        <div class="model-meta">Compliance • Development</div>
                        <div class="model-stats">
                            <span>31 entities</span>
                            <span>•</span>
                            <span>Updated 1d ago</span>
                        </div>
                    </div>
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Market Data Aggregation</div>
                            <div class="model-status"></div>
                        </div>
                        <div class="model-meta">Market Data • Production</div>
                        <div class="model-stats">
                            <span>12 entities</span>
                            <span>•</span>
                            <span>Updated 6h ago</span>
                        </div>
                    </div>
                </div>
                <button class="create-model-btn">
                    <i class="fas fa-plus"></i> New Model
                </button>
            </div>

            <!-- Modeling Tools -->
            <div class="sidebar-section">
                <h3 class="section-title">
                    <i class="fas fa-tools"></i>
                    Modeling Tools
                </h3>
                <div class="tools-grid">
                    <div class="tool-card active">
                        <div class="tool-icon"><i class="fas fa-mouse-pointer"></i></div>
                        <div class="tool-name">Select</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-cube"></i></div>
                        <div class="tool-name">Entity</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-link"></i></div>
                        <div class="tool-name">Relation</div>
                    </div>
                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="tool-name">Validate</div>
                    </div>
                </div>
            </div>

            <!-- FINOS Legend Integration - Enhanced -->
            <div class="sidebar-section">
                <h3 class="section-title">
                    <i class="fab fa-github"></i>
                    FINOS Legend Integration
                </h3>
                <div class="info-panel">
                    <div class="info-row">
                        <span class="info-label">Integration Status</span>
                        <span class="info-value success">✓ Connected</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Last Sync</span>
                        <span class="info-value">12 min ago</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Models Published</span>
                        <span class="info-value">47</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Open Source Contributions</span>
                        <span class="info-value success">23 PRs</span>
                    </div>
                </div>
                <button style="width: 100%; margin-top: 8px; background: var(--primary-blue); color: white; border: none; padding: 8px; border-radius: 6px; font-size: 12px; cursor: pointer;">
                    <i class="fab fa-github"></i> Contribute to Legend
                </button>
                <button style="width: 100%; margin-top: 4px; background: rgba(30, 64, 175, 0.1); border: 1px solid var(--primary-blue); color: var(--primary-blue); padding: 8px; border-radius: 6px; font-size: 12px; cursor: pointer;">
                    <i class="fas fa-code"></i> Legend Language DSL
                </button>
            </div>

            <!-- Data Management & Automation -->
            <div class="sidebar-section">
                <h3 class="section-title">
                    <i class="fas fa-cogs"></i>
                    Process Automation
                </h3>
                <div class="info-panel">
                    <div class="info-row">
                        <span class="info-label">Automated Processes</span>
                        <span class="info-value success">156</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Efficiency Gains</span>
                        <span class="info-value success">+34%</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Data Pipeline Health</span>
                        <span class="info-value success">✓ Optimal</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Consumer Satisfaction</span>
                        <span class="info-value success">98.7%</span>
                    </div>
                </div>
            </div>

            <!-- Multi-dimensional Data Quality -->
            <div class="sidebar-section">
                <h3 class="section-title">
                    <i class="fas fa-shield-alt"></i>
                    Multi-dimensional Data Quality
                </h3>
                <div class="info-panel">
                    <div class="info-row">
                        <span class="info-label">Traceability Score</span>
                        <span class="info-value success">100%</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Security Compliance</span>
                        <span class="info-value success">✓ SOX/GDPR</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Performance Latency</span>
                        <span class="info-value warning">7.2ms avg</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Data Correctness</span>
                        <span class="info-value success">99.94%</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Supply Chain Health</span>
                        <span class="info-value success">✓ Optimal</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Demand Forecasting</span>
                        <span class="info-value success">96.8%</span>
                    </div>
                </div>
                <button style="width: 100%; margin-top: 8px; background: rgba(16, 185, 129, 0.1); border: 1px solid #10b981; color: #10b981; padding: 8px; border-radius: 6px; font-size: 12px; cursor: pointer;">
                    <i class="fas fa-chart-line"></i> View Quality Dashboard
                </button>
            </div>
        </aside>

        <!-- Main Canvas -->
        <main class="canvas-container">
            <div class="canvas-header">
                <h2 class="canvas-title">Credit Risk Assessment Model</h2>
                <div class="canvas-actions">
                    <button class="canvas-btn">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="canvas-btn">
                        <i class="fas fa-history"></i> Version
                    </button>
                    <button class="canvas-btn">
                        <i class="fas fa-share-alt"></i> Share
                    </button>
                    <button class="canvas-btn">
                        <i class="fas fa-code"></i> Generate Code
                    </button>
                </div>
            </div>
            <div class="canvas-workspace">
                <div class="modeling-area">
                    <!-- Borrower Entity -->
                    <div class="entity" style="top: 50px; left: 50px;">
                        <div class="entity-header">
                            <span>Borrower</span>
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="entity-body">
                            <div class="entity-field">
                                <span class="field-name">borrowerId</span>
                                <div class="field-info">
                                    <span class="field-key">PK</span>
                                    <span class="field-type">UUID</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">corporateId</span>
                                <div class="field-info">
                                    <span class="field-type">String(20)</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">legalName</span>
                                <div class="field-info">
                                    <span class="field-type">String(255)</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">creditRating</span>
                                <div class="field-info">
                                    <span class="field-type">CreditRating</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">sector</span>
                                <div class="field-info">
                                    <span class="field-type">IndustrySector</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">jurisdiction</span>
                                <div class="field-info">
                                    <span class="field-type">String(3)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CreditExposure Entity -->
                    <div class="entity" style="top: 50px; right: 50px;">
                        <div class="entity-header">
                            <span>CreditExposure</span>
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="entity-body">
                            <div class="entity-field">
                                <span class="field-name">exposureId</span>
                                <div class="field-info">
                                    <span class="field-key">PK</span>
                                    <span class="field-type">UUID</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">borrowerId</span>
                                <div class="field-info">
                                    <span class="field-key">FK</span>
                                    <span class="field-type">UUID</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">facilityType</span>
                                <div class="field-info">
                                    <span class="field-type">FacilityType</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">commitmentAmount</span>
                                <div class="field-info">
                                    <span class="field-type">BigDecimal</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">outstandingAmount</span>
                                <div class="field-info">
                                    <span class="field-type">BigDecimal</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">maturityDate</span>
                                <div class="field-info">
                                    <span class="field-type">LocalDate</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- RiskMetrics Entity -->
                    <div class="entity" style="bottom: 80px; left: 50%; transform: translateX(-50%);">
                        <div class="entity-header">
                            <span>RiskMetrics</span>
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="entity-body">
                            <div class="entity-field">
                                <span class="field-name">riskMetricId</span>
                                <div class="field-info">
                                    <span class="field-key">PK</span>
                                    <span class="field-type">UUID</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">exposureId</span>
                                <div class="field-info">
                                    <span class="field-key">FK</span>
                                    <span class="field-type">UUID</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">probabilityOfDefault</span>
                                <div class="field-info">
                                    <span class="field-type">BigDecimal</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">lossGivenDefault</span>
                                <div class="field-info">
                                    <span class="field-type">BigDecimal</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">expectedLoss</span>
                                <div class="field-info">
                                    <span class="field-type">BigDecimal</span>
                                </div>
                            </div>
                            <div class="entity-field">
                                <span class="field-name">calculationDate</span>
                                <div class="field-info">
                                    <span class="field-type">LocalDateTime</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Relationship Lines -->
                    <div class="connection" style="top: 180px; left: 290px; width: 220px;">
                        <div class="connection-label">1:N Credit Facilities</div>
                    </div>
                    <div class="connection" style="top: 300px; left: 420px; width: 160px; transform: rotate(45deg);">
                        <div class="connection-label">1:N Risk Calculation</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Analytics Panel -->
        <aside class="analytics-panel">
            <h3 class="analytics-title">
                <i class="fas fa-chart-line"></i>
                Data Management Analytics
            </h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">$2.4T</div>
                    <div class="metric-label">Assets Under Model</div>
                    <div class="metric-trend up">↗ +8.2% QoQ</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">47</div>
                    <div class="metric-label">Production Models</div>
                    <div class="metric-trend up">↗ +5 this quarter</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">7.2ms</div>
                    <div class="metric-label">Avg Query Latency</div>
                    <div class="metric-trend down">↘ -12% optimized</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">99.94%</div>
                    <div class="metric-label">Data Correctness</div>
                    <div class="metric-trend up">↗ +0.08%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">156</div>
                    <div class="metric-label">Automated Processes</div>
                    <div class="metric-trend up">↗ +34% efficiency</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">100%</div>
                    <div class="metric-label">Cloud Adoption</div>
                    <div class="metric-trend up">✓ AWS Migration</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">23</div>
                    <div class="metric-label">Legend Contributions</div>
                    <div class="metric-trend up">↗ Open Source</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">98.7%</div>
                    <div class="metric-label">Consumer Satisfaction</div>
                    <div class="metric-trend up">↗ Data Quality</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">5.2PB</div>
                    <div class="metric-label">Data Warehoused</div>
                    <div class="metric-trend up">↗ +23% growth</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">100%</div>
                    <div class="metric-label">SOX Compliance</div>
                    <div class="metric-trend up">✓ Audited</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">847</div>
                    <div class="metric-label">Data Consumers</div>
                    <div class="metric-trend up">↗ +67 this month</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">1,234</div>
                    <div class="metric-label">Data Producers</div>
                    <div class="metric-trend up">↗ Integrated</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- AI Assistant -->
    <button class="ai-toggle" onclick="toggleAI()">
        <i class="fas fa-robot"></i>
    </button>
    
    <div class="ai-assistant" id="aiAssistant">
        <div class="ai-header">
            <div class="ai-title">
                <i class="fas fa-brain"></i> AI Model Assistant
            </div>
            <button onclick="toggleAI()" style="background: none; border: none; color: var(--gray-600); cursor: pointer;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="ai-content">
            <textarea class="ai-input" placeholder="Describe your data management requirement: 'Create a comprehensive data curation pipeline with automated quality checks, multi-dimensional analysis, and consumer/producer integration for modern data warehousing'..." rows="4"></textarea>
            <div class="ai-suggestions">
                <button class="suggestion-chip">Data Curation Pipeline</button>
                <button class="suggestion-chip">Process Automation</button>
                <button class="suggestion-chip">Cloud Data Warehouse</button>
                <button class="suggestion-chip">Consumer Integration</button>
                <button class="suggestion-chip">Quality Traceability</button>
                <button class="suggestion-chip">Legend DSL Export</button>
                <button class="suggestion-chip">Multi-dimensional Data</button>
                <button class="suggestion-chip">Supply Chain Model</button>
            </div>
            <button class="ai-generate-btn">
                <i class="fas fa-magic"></i> Generate Data Management Solution
            </button>
        </div>
    </div>

    <script>
        // Professional Application State
        const ModelForgeApp = {
            state: {
                isDragging: false,
                currentEntity: null,
                offset: { x: 0, y: 0 },
                selectedTool: 'select',
                activeModel: 'Credit Risk Assessment Model',
                collaborators: 4
            },

            // Initialize Application
            init() {
                this.initializeDragAndDrop();
                this.initializeModelManagement();
                this.initializeToolSelection();
                this.initializeAIAssistant();
                this.initializeHeaderActions();
                this.initializeCanvasActions();
                this.startRealTimeUpdates();
                this.showWelcomeMessage();
            },

            // Enhanced Drag and Drop
            initializeDragAndDrop() {
                document.querySelectorAll('.entity').forEach(entity => {
                    entity.addEventListener('mousedown', this.handleEntityMouseDown.bind(this));
                    entity.addEventListener('click', this.handleEntityClick.bind(this));
                });

                document.addEventListener('mousemove', this.handleMouseMove.bind(this));
                document.addEventListener('mouseup', this.handleMouseUp.bind(this));
            },

            handleEntityMouseDown(e) {
                if (this.state.selectedTool !== 'select') return;
                
                this.state.isDragging = true;
                this.state.currentEntity = e.currentTarget;
                
                const rect = e.currentTarget.getBoundingClientRect();
                this.state.offset.x = e.clientX - rect.left;
                this.state.offset.y = e.clientY - rect.top;
                
                e.currentTarget.style.zIndex = '1000';
                e.currentTarget.style.cursor = 'grabbing';
                e.preventDefault();
            },

            handleMouseMove(e) {
                if (!this.state.isDragging || !this.state.currentEntity) return;
                
                const container = document.querySelector('.modeling-area');
                const containerRect = container.getBoundingClientRect();
                
                let x = e.clientX - containerRect.left - this.state.offset.x;
                let y = e.clientY - containerRect.top - this.state.offset.y;
                
                x = Math.max(0, Math.min(x, container.offsetWidth - this.state.currentEntity.offsetWidth));
                y = Math.max(0, Math.min(y, container.offsetHeight - this.state.currentEntity.offsetHeight));
                
                this.state.currentEntity.style.left = x + 'px';
                this.state.currentEntity.style.top = y + 'px';
            },

            handleMouseUp() {
                if (this.state.currentEntity) {
                    this.state.currentEntity.style.zIndex = '';
                    this.state.currentEntity.style.cursor = 'move';
                }
                this.state.isDragging = false;
                this.state.currentEntity = null;
            },

            handleEntityClick(e) {
                if (this.state.selectedTool === 'select') {
                    document.querySelectorAll('.entity').forEach(el => el.classList.remove('selected'));
                    e.currentTarget.classList.add('selected');
                    const entityName = e.currentTarget.querySelector('.entity-header span').textContent;
                    this.showNotification(`Selected entity: ${entityName}`, 'info');
                }
            },

            // Model Management
            initializeModelManagement() {
                document.querySelectorAll('.model-card').forEach(card => {
                    card.addEventListener('click', this.handleModelSelect.bind(this));
                });

                document.querySelector('.create-model-btn').addEventListener('click', this.handleCreateModel.bind(this));
            },

            handleModelSelect(e) {
                document.querySelectorAll('.model-card').forEach(card => card.classList.remove('active'));
                e.currentTarget.classList.add('active');
                
                const modelName = e.currentTarget.querySelector('.model-name').textContent;
                document.querySelector('.canvas-title').textContent = modelName;
                this.state.activeModel = modelName;
                
                e.currentTarget.style.transform = 'scale(0.98)';
                setTimeout(() => e.currentTarget.style.transform = '', 150);
                
                this.showNotification(`Loaded model: ${modelName}`, 'success');
            },

            handleCreateModel() {
                const name = prompt('Enter model name (e.g., "Equity Derivatives Risk Model"):');
                if (name && name.trim()) {
                    this.createNewModel(name.trim());
                }
            },

            createNewModel(name) {
                const modelGrid = document.querySelector('.model-grid');
                const newCard = document.createElement('div');
                newCard.className = 'model-card';
                
                const entityCount = Math.floor(Math.random() * 15) + 8;
                const domains = ['Risk Management', 'Trading Systems', 'Compliance', 'Market Data', 'Portfolio Analytics'];
                const statuses = ['Development', 'Staging', 'Production'];
                const randomDomain = domains[Math.floor(Math.random() * domains.length)];
                const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                
                newCard.innerHTML = `
                    <div class="model-header">
                        <div class="model-name">${name}</div>
                        <div class="model-status"></div>
                    </div>
                    <div class="model-meta">${randomDomain} • ${randomStatus}</div>
                    <div class="model-stats">
                        <span>${entityCount} entities</span>
                        <span>•</span>
                        <span>Just created</span>
                    </div>
                `;
                
                modelGrid.appendChild(newCard);
                newCard.addEventListener('click', this.handleModelSelect.bind(this));
                
                newCard.classList.add('animate-in');
                this.showNotification(`Created model: ${name}`, 'success');
            },

            // Tool Selection
            initializeToolSelection() {
                document.querySelectorAll('.tool-card').forEach(tool => {
                    tool.addEventListener('click', this.handleToolSelect.bind(this));
                });
            },

            handleToolSelect(e) {
                document.querySelectorAll('.tool-card').forEach(tool => tool.classList.remove('active'));
                e.currentTarget.classList.add('active');
                
                const toolName = e.currentTarget.querySelector('.tool-name').textContent.toLowerCase();
                this.state.selectedTool = toolName;
                
                const modelingArea = document.querySelector('.modeling-area');
                switch(toolName) {
                    case 'select':
                        modelingArea.style.cursor = 'default';
                        this.showNotification('Select tool activated - Click and drag entities', 'info');
                        break;
                    case 'entity':
                        modelingArea.style.cursor = 'crosshair';
                        this.showNotification('Entity tool activated - Click to create new entities', 'info');
                        this.enableEntityCreation();
                        break;
                    case 'relation':
                        modelingArea.style.cursor = 'pointer';
                        this.showNotification('Relation tool activated - Click entities to connect', 'info');
                        this.enableRelationCreation();
                        break;
                    case 'validate':
                        this.runModelValidation();
                        break;
                }
                
                e.currentTarget.style.transform = 'scale(0.95)';
                setTimeout(() => e.currentTarget.style.transform = '', 150);
            },

            enableEntityCreation() {
                const area = document.querySelector('.modeling-area');
                area.onclick = (e) => {
                    if (this.state.selectedTool !== 'entity') return;
                    
                    const rect = area.getBoundingClientRect();
                    const x = e.clientX - rect.left - 120;
                    const y = e.clientY - rect.top - 100;
                    
                    this.createEntity(x, y);
                };
            },

            createEntity(x, y) {
                const entityTypes = [
                    { name: 'DataConsumer', icon: 'fas fa-users', fields: ['consumerId:UUID:PK', 'organizationName:String', 'dataRequirements:String[]', 'satisfactionScore:BigDecimal'] },
                    { name: 'DataProducer', icon: 'fas fa-industry', fields: ['producerId:UUID:PK', 'systemName:String', 'dataTypes:String[]', 'qualityMetrics:QualityScore'] },
                    { name: 'AutomatedProcess', icon: 'fas fa-cogs', fields: ['processId:UUID:PK', 'processName:String', 'efficiencyGain:BigDecimal', 'automationLevel:Percentage'] },
                    { name: 'DataPipeline', icon: 'fas fa-stream', fields: ['pipelineId:UUID:PK', 'sourceSystem:String', 'targetSystem:String', 'throughputRate:BigDecimal'] },
                    { name: 'QualityMetric', icon: 'fas fa-shield-alt', fields: ['metricId:UUID:PK', 'traceabilityScore:BigDecimal', 'securityLevel:SecurityType', 'performanceLatency:Duration'] },
                    { name: 'CloudResource', icon: 'fas fa-cloud', fields: ['resourceId:UUID:PK', 'awsServiceType:String', 'scalabilityFactor:BigDecimal', 'costOptimization:BigDecimal'] },
                    { name: 'LegendModel', icon: 'fab fa-github', fields: ['modelId:UUID:PK', 'legendDSL:String', 'contributionStatus:String', 'openSourceLicense:String'] }
                ];
                
                const randomEntity = entityTypes[Math.floor(Math.random() * entityTypes.length)];
                const container = document.querySelector('.modeling-area');
                
                const entity = document.createElement('div');
                entity.className = 'entity';
                entity.style.left = Math.max(10, Math.min(x, container.offsetWidth - 260)) + 'px';
                entity.style.top = Math.max(10, Math.min(y, container.offsetHeight - 200)) + 'px';
                
                entity.innerHTML = `
                    <div class="entity-header">
                        <span>${randomEntity.name}</span>
                        <i class="${randomEntity.icon}"></i>
                    </div>
                    <div class="entity-body">
                        ${randomEntity.fields.map(field => {
                            const [name, type, key] = field.split(':');
                            return `
                                <div class="entity-field">
                                    <span class="field-name">${name}</span>
                                    <div class="field-info">
                                        ${key ? `<span class="field-key">${key}</span>` : ''}
                                        <span class="field-type">${type}</span>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                
                container.appendChild(entity);
                entity.classList.add('animate-in');
                
                entity.addEventListener('mousedown', this.handleEntityMouseDown.bind(this));
                entity.addEventListener('click', this.handleEntityClick.bind(this));
                
                this.showNotification(`Created ${randomEntity.name} entity`, 'success');
            },

            enableRelationCreation() {
                let firstEntity = null;
                
                document.querySelectorAll('.entity').forEach(entity => {
                    entity.onclick = (e) => {
                        e.stopPropagation();
                        if (this.state.selectedTool !== 'relation') return;
                        
                        if (!firstEntity) {
                            firstEntity = entity;
                            entity.style.border = '2px solid var(--primary-blue)';
                            this.showNotification('First entity selected. Click another to connect.', 'info');
                        } else if (firstEntity !== entity) {
                            this.createRelation(firstEntity, entity);
                            firstEntity.style.border = '';
                            firstEntity = null;
                        }
                    };
                });
            },

            createRelation(entity1, entity2) {
                const container = document.querySelector('.modeling-area');
                const rect1 = entity1.getBoundingClientRect();
                const rect2 = entity2.getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                
                const x1 = rect1.left - containerRect.left + rect1.width / 2;
                const y1 = rect1.top - containerRect.top + rect1.height / 2;
                const x2 = rect2.left - containerRect.left + rect2.width / 2;
                const y2 = rect2.top - containerRect.top + rect2.height / 2;
                
                const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
                const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
                
                const connection = document.createElement('div');
                connection.className = 'connection';
                connection.style.left = x1 + 'px';
                connection.style.top = y1 + 'px';
                connection.style.width = length + 'px';
                connection.style.transform = `rotate(${angle}deg)`;
                connection.innerHTML = '<div class="connection-label">1:N Relationship</div>';
                
                container.appendChild(connection);
                this.showNotification('Relationship created successfully', 'success');
            },

            runModelValidation() {
                this.showNotification('Running comprehensive model validation...', 'info');
                
                setTimeout(() => this.showNotification('Checking entity relationships...', 'info'), 1000);
                setTimeout(() => this.showNotification('Validating field constraints...', 'info'), 2000);
                setTimeout(() => this.showNotification('Analyzing compliance requirements...', 'info'), 3000);
                
                setTimeout(() => {
                    const entities = document.querySelectorAll('.entity').length;
                    const connections = document.querySelectorAll('.connection').length;
                    this.showNotification(`✓ Validation complete: ${entities} entities, ${connections} relationships. Model is SOX compliant.`, 'success');
                }, 4000);
            },

            initializeHeaderActions() {
                document.querySelectorAll('.nav-item').forEach(btn => {
                    btn.addEventListener('click', this.handleHeaderAction.bind(this));
                });
            },

            handleHeaderAction(e) {
                const action = e.currentTarget.textContent.trim();
                
                switch(action) {
                    case 'Data Curation':
                        this.showDataCurationDashboard();
                        break;
                    case 'Automation':
                        this.showAutomationDashboard();
                        break;
                    case 'Legend Contrib':
                        this.showLegendContribution();
                        break;
                    case 'Consumers':
                        this.showConsumerProducerEngagement();
                        break;
                    case 'Cloud Tech':
                        this.showCloudTechnologyAdoption();
                        break;
                    case 'Deploy':
                        this.handleDeploy();
                        break;
                }
                
                e.currentTarget.style.transform = 'scale(0.98)';
                setTimeout(() => e.currentTarget.style.transform = '', 150);
            },

            showDataCurationDashboard() {
                this.showNotification('📊 Data Curation Dashboard: Multi-dimensional analysis with traceability, security, performance, and correctness metrics across supply and demand processes', 'info');
                setTimeout(() => {
                    this.showNotification('✓ Modern data management tools active: 847 consumers, 1,234 producers, 99.94% correctness', 'success');
                }, 2000);
            },

            showAutomationDashboard() {
                this.showNotification('🤖 Process Automation: 156 automated processes achieving +34% efficiency gains', 'info');
                setTimeout(() => {
                    this.showNotification('✓ Automation identifying areas for further efficiencies in data pipeline optimization', 'success');
                }, 2000);
            },

            showLegendContribution() {
                this.showNotification('🏛 FINOS Legend: Contributing to open source technology at github.com/finos/legend', 'info');
                setTimeout(() => {
                    this.showNotification('📝 Legend Language DSL: Developing and contributing to legend.finos.org/docs/language/legend-language', 'info');
                }, 1500);
                setTimeout(() => {
                    this.showNotification('✅ 23 Pull Requests contributed to Legend ecosystem, enhancing modeling language capabilities', 'success');
                }, 3000);
            },

            showConsumerProducerEngagement() {
                this.showNotification('👥 Consumer/Producer Engagement: Designing appropriate models to suit all stakeholder needs', 'info');
                setTimeout(() => {
                    this.showNotification('📈 847 data consumers and 1,234 data producers actively engaged with 98.7% satisfaction rate', 'success');
                }, 2000);
            },

            showCloudTechnologyAdoption() {
                this.showNotification('☁️ Cloud Technology Adoption: Driving AWS adoption for data processing and warehousing', 'info');
                setTimeout(() => {
                    this.showNotification('📊 5.2PB data warehoused in cloud with 100% migration success and optimized query execution', 'success');
                }, 2000);
            },

            handleExport() {
                this.showNotification('Preparing model export...', 'info');
                setTimeout(() => {
                    this.showNotification('✓ Model exported to Legend DSL format. Compatible with FINOS ecosystem.', 'success');
                }, 2000);
            },

            handleDeploy() {
                this.showNotification('🚀 Initiating cloud technology deployment for data processing and warehousing...', 'info');
                
                const steps = [
                    '📦 Building modern data management tools with Java OOP architecture...',
                    '☁️ Provisioning AWS cloud resources for scalable data warehousing...',
                    '🔧 Configuring automated data pipelines with quality monitoring...',
                    '🏛️ Integrating FINOS Legend DSL export and open source contributions...',
                    '👥 Setting up consumer/producer engagement interfaces...',
                    '📊 Deploying multi-dimensional data quality dashboards...',
                    '🤖 Activating process automation for efficiency optimization...',
                    '✅ Deployment successful! Modern data management platform live with 5.2PB warehousing capacity'
                ];
                
                steps.forEach((step, index) => {
                    setTimeout(() => {
                        this.showNotification(step, index < steps.length - 1 ? 'info' : 'success');
                    }, (index + 1) * 1200);
                });
            },

            initializeCanvasActions() {
                document.querySelectorAll('.canvas-btn').forEach(btn => {
                    btn.addEventListener('click', this.handleCanvasAction.bind(this));
                });
            },

            handleCanvasAction(e) {
                const action = e.currentTarget.textContent.trim();
                
                switch(action) {
                    case 'Save':
                        this.showNotification('✓ Model saved to repository', 'success');
                        break;
                    case 'Version':
                        this.showNotification('📝 Creating new version: v2.1.4', 'info');
                        break;
                    case 'Share':
                        this.showNotification('🔗 Collaboration link copied to clipboard', 'success');
                        break;
                    case 'Generate Code':
                        this.showNotification('🔧 Generating Java entities and SQL schema...', 'info');
                        break;
                }
                
                e.currentTarget.style.transform = 'scale(0.95)';
                setTimeout(() => e.currentTarget.style.transform = '', 150);
            },

            initializeAIAssistant() {
                const suggestions = document.querySelectorAll('.suggestion-chip');
                const generateBtn = document.querySelector('.ai-generate-btn');
                const aiInput = document.querySelector('.ai-input');
                
                const suggestionMap = {
                    'Data Curation Pipeline': 'Create a comprehensive data curation pipeline with automated quality checks, traceability monitoring, security compliance, and performance optimization for multi-dimensional data processing',
                    'Process Automation': 'Design process automation framework with efficiency monitoring, automated data validation, pipeline orchestration, and intelligent error handling for seamless data flow',
                    'Cloud Data Warehouse': 'Build cloud-native data warehousing solution with AWS integration, scalable storage, query optimization, and real-time analytics for modern data processing',
                    'Consumer Integration': 'Develop consumer/producer engagement platform with stakeholder management, requirement gathering, feedback loops, and customized model delivery for optimal satisfaction',
                    'Quality Traceability': 'Implement multi-dimensional data quality framework with full traceability, security compliance, performance latency monitoring, and correctness validation across supply chain',
                    'Legend DSL Export': 'Create Legend language DSL export functionality with github.com/finos/legend integration, open source contribution workflow, and modeling language enhancements',
                    'Multi-dimensional Data': 'Design multi-dimensional data model with complex data relationships, dimensional analysis, cube processing, and advanced analytics capabilities for business intelligence',
                    'Supply Chain Model': 'Build supply and demand process model with end-to-end traceability, quality gates, performance monitoring, and automated compliance checking for operational excellence'
                };
                
                suggestions.forEach(chip => {
                    chip.addEventListener('click', () => {
                        aiInput.value = suggestionMap[chip.textContent] || chip.textContent;
                        aiInput.focus();
                        chip.style.transform = 'scale(0.95)';
                        setTimeout(() => chip.style.transform = '', 150);
                    });
                });
                
                generateBtn.addEventListener('click', () => {
                    if (aiInput.value.trim()) {
                        this.generateAIModel(aiInput.value.trim());
                        aiInput.value = '';
                        this.toggleAI();
                    }
                });
            },

            generateAIModel(description) {
                this.showNotification('🤖 AI analyzing requirements...', 'info');
                
                setTimeout(() => {
                    this.showNotification('🧠 Generating domain entities...', 'info');
                }, 1500);
                
                setTimeout(() => {
                    this.showNotification('🔗 Creating relationships...', 'info');
                }, 3000);
                
                setTimeout(() => {
                    this.showNotification(`✅ AI model generated successfully! "${description}" has been processed and optimized for Goldman Sachs standards.`, 'success');
                }, 4500);
            },

            toggleAI() {
                const assistant = document.getElementById('aiAssistant');
                const toggle = document.querySelector('.ai-toggle');
                
                assistant.classList.toggle('active');
                toggle.style.transform = assistant.classList.contains('active') ? 'rotate(45deg)' : '';
            },

            startRealTimeUpdates() {
                setInterval(() => {
                    this.updateMetrics();
                    this.updateCollaboration();
                }, 5000);
            },

            updateMetrics() {
                const metrics = document.querySelectorAll('.metric-value');
                if (metrics.length >= 4) {
                    // Simulate realistic financial metrics
                    const assets = '$' + (2.3 + Math.random() * 0.2).toFixed(1) + 'T';
                    const models = Math.floor(Math.random() * 5) + 45;
                    const queryTime = (6.8 + Math.random() * 1.0).toFixed(1) + 'ms';
                    const accuracy = (99.9 + Math.random() * 0.09).toFixed(2) + '%';
                    
                    metrics[0].textContent = assets;
                    metrics[1].textContent = models;
                    metrics[2].textContent = queryTime;
                    metrics[3].textContent = accuracy;
                }
            },

            updateCollaboration() {
                const indicator = document.getElementById('collaborationCount');
                const count = Math.floor(Math.random() * 3) + 3;
                const roles = ['analysts', 'risk managers', 'quants', 'developers'];
                const role = roles[Math.floor(Math.random() * roles.length)];
                indicator.textContent = `${count} ${role} collaborating`;
            },

            showWelcomeMessage() {
                setTimeout(() => {
                    this.showNotification('Welcome to ModelForge Enterprise - Goldman Sachs Data Modeling Platform', 'info');
                }, 1000);
            },

            showNotification(message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                setTimeout(() => notification.classList.add('show'), 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => document.body.removeChild(notification), 300);
                }, 4000);
            }
        };


        window.toggleAI = () => ModelForgeApp.toggleAI();

        document.addEventListener('DOMContentLoaded', () => {
            ModelForgeApp.init();
        });
    </script>
</body>
</html>
